<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="de">
<head>
<!-- Generated by javadoc (1.8.0_261) on Sun Jul 25 22:24:55 CEST 2021 -->
<title>AuthService</title>
<meta name="date" content="2021-07-25">
<link rel="stylesheet" type="text/css" href="../../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="AuthService";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../../../de/htwberlin/kba/gr7/vocabduel/user_administration/export/UserService.html" title="interface in de.htwberlin.kba.gr7.vocabduel.user_administration.export"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?de/htwberlin/kba/gr7/vocabduel/user_administration/export/AuthService.html" target="_top">Frames</a></li>
<li><a href="AuthService.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">de.htwberlin.kba.gr7.vocabduel.user_administration.export</div>
<h2 title="Interface AuthService" class="title">Interface AuthService</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public interface <span class="typeNameLabel">AuthService</span></pre>
<div class="block">Service for managing authentication, i.e. user logins/registrations, checking access rights using auth tokens and
 token management.</div>
<dl>
<dt><span class="simpleTagLabel">Version:</span></dt>
<dd>1.0, May 2021</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Sebastian Kehl, Lucas Larisch</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>de.htwberlin.kba.gr7.vocabduel.user_administration.export.model.User</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../de/htwberlin/kba/gr7/vocabduel/user_administration/export/AuthService.html#fetchUser-java.lang.String-">fetchUser</a></span>(java.lang.String&nbsp;token)</code>
<div class="block">Verifies a given auth token, decodes it and returns the user it belongs to.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../de/htwberlin/kba/gr7/vocabduel/user_administration/export/AuthService.html#hasAccessRights-java.lang.String-">hasAccessRights</a></span>(java.lang.String&nbsp;token)</code>
<div class="block">Checks whether a given auth token is valid, i.e. if the user has access rights or not.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>de.htwberlin.kba.gr7.vocabduel.user_administration.export.model.LoggedInUser</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../de/htwberlin/kba/gr7/vocabduel/user_administration/export/AuthService.html#loginUser-java.lang.String-java.lang.String-">loginUser</a></span>(java.lang.String&nbsp;email,
         java.lang.String&nbsp;password)</code>
<div class="block">Authenticates an existing user in order to take actions in this application.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>de.htwberlin.kba.gr7.vocabduel.user_administration.export.model.AuthTokens</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../de/htwberlin/kba/gr7/vocabduel/user_administration/export/AuthService.html#refreshAuthTokens-java.lang.String-">refreshAuthTokens</a></span>(java.lang.String&nbsp;refreshToken)</code>
<div class="block">Updates both refresh and auth token and returns the two tokens if the given refresh token is valid.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>de.htwberlin.kba.gr7.vocabduel.user_administration.export.model.LoggedInUser</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../de/htwberlin/kba/gr7/vocabduel/user_administration/export/AuthService.html#registerUser-java.lang.String-java.lang.String-java.lang.String-java.lang.String-java.lang.String-java.lang.String-">registerUser</a></span>(java.lang.String&nbsp;username,
            java.lang.String&nbsp;email,
            java.lang.String&nbsp;firstname,
            java.lang.String&nbsp;lastname,
            java.lang.String&nbsp;password,
            java.lang.String&nbsp;confirmPassword)</code>
<div class="block">Registers a new user who can take actions in this application.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../de/htwberlin/kba/gr7/vocabduel/user_administration/export/AuthService.html#updateUserPassword-de.htwberlin.kba.gr7.vocabduel.user_administration.export.model.User-java.lang.String-java.lang.String-java.lang.String-">updateUserPassword</a></span>(de.htwberlin.kba.gr7.vocabduel.user_administration.export.model.User&nbsp;user,
                  java.lang.String&nbsp;currentPassword,
                  java.lang.String&nbsp;newPassword,
                  java.lang.String&nbsp;confirmPassword)</code>
<div class="block">Updates a user's password if the current password is correct and the new password is both valid and matching the
 confirm password.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="registerUser-java.lang.String-java.lang.String-java.lang.String-java.lang.String-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerUser</h4>
<pre>de.htwberlin.kba.gr7.vocabduel.user_administration.export.model.LoggedInUser&nbsp;registerUser(java.lang.String&nbsp;username,
                                                                                          java.lang.String&nbsp;email,
                                                                                          java.lang.String&nbsp;firstname,
                                                                                          java.lang.String&nbsp;lastname,
                                                                                          java.lang.String&nbsp;password,
                                                                                          java.lang.String&nbsp;confirmPassword)
                                                                                   throws de.htwberlin.kba.gr7.vocabduel.user_administration.export.exceptions.PasswordsDoNotMatchException,
                                                                                          de.htwberlin.kba.gr7.vocabduel.user_administration.export.exceptions.PwTooWeakException,
                                                                                          de.htwberlin.kba.gr7.vocabduel.user_administration.export.exceptions.InvalidOrRegisteredMailException,
                                                                                          de.htwberlin.kba.gr7.vocabduel.user_administration.export.exceptions.AlreadyRegisteredUsernameException,
                                                                                          de.htwberlin.kba.gr7.vocabduel.user_administration.export.exceptions.IncompleteUserDataException,
                                                                                          javax.naming.InvalidNameException,
                                                                                          de.htwberlin.kba.gr7.vocabduel.user_administration.export.exceptions.UserOptimisticLockException</pre>
<div class="block">Registers a new user who can take actions in this application. After having successfully stored the new user data,
 a <code><code>LoggedInUser</code></code> object is returned which is used for authentication using tokens without
 revealing the user's password. (see <code><a href="../../../../../../../de/htwberlin/kba/gr7/vocabduel/user_administration/export/AuthService.html#loginUser-java.lang.String-java.lang.String-"><code>loginUser(java.lang.String, java.lang.String)</code></a></code>).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>username</code> - Username to be set.</dd>
<dd><code>email</code> - Email to be set.</dd>
<dd><code>firstname</code> - First name of the new user.</dd>
<dd><code>lastname</code> - Family name of the new user.</dd>
<dd><code>password</code> - Password for the new user, will be stored in a different way than the other user data</dd>
<dd><code>confirmPassword</code> - Repeated password for confirmation purposes (must match with <code>password</code>).</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The object of the new user. Password will never be revealed, instead, this object contains auth tokens.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>de.htwberlin.kba.gr7.vocabduel.user_administration.export.exceptions.PasswordsDoNotMatchException</code> - <code>password</code> and <code>confirmPassword</code> do not match.</dd>
<dd><code>de.htwberlin.kba.gr7.vocabduel.user_administration.export.exceptions.PwTooWeakException</code> - The given password is not strong enough.</dd>
<dd><code>de.htwberlin.kba.gr7.vocabduel.user_administration.export.exceptions.InvalidOrRegisteredMailException</code> - The user's specified email is either already in use or invalid and, thus, cannot be used again.</dd>
<dd><code>de.htwberlin.kba.gr7.vocabduel.user_administration.export.exceptions.AlreadyRegisteredUsernameException</code> - The user's specified username is already in use and, thus, cannot be used again.</dd>
<dd><code>de.htwberlin.kba.gr7.vocabduel.user_administration.export.exceptions.IncompleteUserDataException</code> - The passed user object does not contain all required user data.</dd>
<dd><code>javax.naming.InvalidNameException</code> - The passed user user does have an invalid first/ last name.</dd>
<dd><code>de.htwberlin.kba.gr7.vocabduel.user_administration.export.exceptions.UserOptimisticLockException</code> - An OptimisticLock error in the user module occurred.</dd>
</dl>
</li>
</ul>
<a name="loginUser-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loginUser</h4>
<pre>de.htwberlin.kba.gr7.vocabduel.user_administration.export.model.LoggedInUser&nbsp;loginUser(java.lang.String&nbsp;email,
                                                                                       java.lang.String&nbsp;password)
                                                                                throws de.htwberlin.kba.gr7.vocabduel.user_administration.export.exceptions.UserOptimisticLockException</pre>
<div class="block">Authenticates an existing user in order to take actions in this application. The returned user object contains all
 relevant user data including auth tokens without revealing the user's password. If the login fails, <code>null</code>
 is returned instead of an object.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>email</code> - Unique email address the user signs in with.</dd>
<dd><code>password</code> - The user's password.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>User object including authentication tokens / <code>null</code> if the login was not successful.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>de.htwberlin.kba.gr7.vocabduel.user_administration.export.exceptions.UserOptimisticLockException</code> - An OptimisticLock error in the user module occurred.</dd>
</dl>
</li>
</ul>
<a name="fetchUser-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fetchUser</h4>
<pre>de.htwberlin.kba.gr7.vocabduel.user_administration.export.model.User&nbsp;fetchUser(java.lang.String&nbsp;token)
                                                                        throws de.htwberlin.kba.gr7.vocabduel.user_administration.export.exceptions.UserOptimisticLockException</pre>
<div class="block">Verifies a given auth token, decodes it and returns the user it belongs to. If no or no valid token is given,
 <code>null</code> is returned.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>token</code> - Auth token the user is to be determined by.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>User the given <code>token</code> belongs to or <code>null</code> in case of no/no valid token.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>de.htwberlin.kba.gr7.vocabduel.user_administration.export.exceptions.UserOptimisticLockException</code> - An OptimisticLock error in the user module occurred.</dd>
</dl>
</li>
</ul>
<a name="refreshAuthTokens-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>refreshAuthTokens</h4>
<pre>de.htwberlin.kba.gr7.vocabduel.user_administration.export.model.AuthTokens&nbsp;refreshAuthTokens(java.lang.String&nbsp;refreshToken)
                                                                                      throws de.htwberlin.kba.gr7.vocabduel.user_administration.export.exceptions.UserOptimisticLockException</pre>
<div class="block">Updates both refresh and auth token and returns the two tokens if the given refresh token is valid. Otherwise,
 <code>null</code> is returned.
 Note: After having called this method successfully, the <code>refreshToken</code> passed in as a param is
 obsolete and instead, the new refresh token (<code><code>AuthTokens.getRefreshToken()</code></code>) is to be used.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>refreshToken</code> - Token to be used for refreshing auth/refresh token.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Object containing refreshed tokens, <code>null</code> if the operation was not successful.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>de.htwberlin.kba.gr7.vocabduel.user_administration.export.exceptions.UserOptimisticLockException</code> - An OptimisticLock error in the user module occurred.</dd>
</dl>
</li>
</ul>
<a name="hasAccessRights-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasAccessRights</h4>
<pre>boolean&nbsp;hasAccessRights(java.lang.String&nbsp;token)
                 throws de.htwberlin.kba.gr7.vocabduel.user_administration.export.exceptions.UserOptimisticLockException</pre>
<div class="block">Checks whether a given auth token is valid, i.e. if the user has access rights or not.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>token</code> - Auth token to be checked.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if the token is valid, <code>false</code> if not/<code>null</code>.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>de.htwberlin.kba.gr7.vocabduel.user_administration.export.exceptions.UserOptimisticLockException</code> - An OptimisticLock error in the user module occurred.</dd>
</dl>
</li>
</ul>
<a name="updateUserPassword-de.htwberlin.kba.gr7.vocabduel.user_administration.export.model.User-java.lang.String-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>updateUserPassword</h4>
<pre>int&nbsp;updateUserPassword(de.htwberlin.kba.gr7.vocabduel.user_administration.export.model.User&nbsp;user,
                       java.lang.String&nbsp;currentPassword,
                       java.lang.String&nbsp;newPassword,
                       java.lang.String&nbsp;confirmPassword)
                throws de.htwberlin.kba.gr7.vocabduel.user_administration.export.exceptions.InvalidFirstPwdException,
                       de.htwberlin.kba.gr7.vocabduel.user_administration.export.exceptions.PasswordsDoNotMatchException,
                       de.htwberlin.kba.gr7.vocabduel.user_administration.export.exceptions.PwTooWeakException,
                       de.htwberlin.kba.gr7.vocabduel.user_administration.export.exceptions.InvalidUserException,
                       de.htwberlin.kba.gr7.vocabduel.user_administration.export.exceptions.UserOptimisticLockException</pre>
<div class="block">Updates a user's password if the current password is correct and the new password is both valid and matching the
 confirm password.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>user</code> - User whose password is to be changed.</dd>
<dd><code>currentPassword</code> - The user's current password for authentication purposes.</dd>
<dd><code>newPassword</code> - The user's new password - will be stored in a different way than the other user data.</dd>
<dd><code>confirmPassword</code> - Repeated password for confirmation purposes (must match with <code>password</code>).</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>int database status of the update query.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>de.htwberlin.kba.gr7.vocabduel.user_administration.export.exceptions.InvalidFirstPwdException</code> - <code>currentPassword</code> is wrong.</dd>
<dd><code>de.htwberlin.kba.gr7.vocabduel.user_administration.export.exceptions.PasswordsDoNotMatchException</code> - <code>newPassword</code> and <code>confirmPassword</code> do not match.</dd>
<dd><code>de.htwberlin.kba.gr7.vocabduel.user_administration.export.exceptions.PwTooWeakException</code> - The given password is not strong enough.</dd>
<dd><code>de.htwberlin.kba.gr7.vocabduel.user_administration.export.exceptions.InvalidUserException</code> - The given user is null or does not exist.</dd>
<dd><code>de.htwberlin.kba.gr7.vocabduel.user_administration.export.exceptions.UserOptimisticLockException</code> - An OptimisticLock error in the user module occurred.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../../../de/htwberlin/kba/gr7/vocabduel/user_administration/export/UserService.html" title="interface in de.htwberlin.kba.gr7.vocabduel.user_administration.export"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?de/htwberlin/kba/gr7/vocabduel/user_administration/export/AuthService.html" target="_top">Frames</a></li>
<li><a href="AuthService.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
